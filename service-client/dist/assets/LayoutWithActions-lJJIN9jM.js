import{_ as ee,B as te}from"./topBarUserProfile-ExGO6QtX.js";import{u as oe,aj as ae,r as p,s as ne,g as le,ap as k,x as se,o as _,f as h,w as t,h as e,I as w,m as l,j as s,k as y,H as I,E as re,n as ce,y as ie,F as ue,t as x,O as B,e as o,L as de,M as pe}from"./index-C8ph-EQq.js";import{p as _e}from"./permitted-BzPEUTiR.js";import{_ as me}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L=m=>(de("data-v-ed7ea47f"),m=m(),pe(),m),ve=L(()=>y("span",{style:{color:"#191970","font-weight":"700"}},"webApp",-1)),fe=L(()=>y("span",{style:{color:"#191970","font-weight":"700"}},"App",-1)),he={class:"mainWrapper"},ye={__name:"LayoutWithActions",emits:["searchText"],setup(m,{emit:q}){_e();const g=oe(),A=ae(),u=p(null),{width:i,mobile:be}=ne(),C=p(null);le().currentUserRole;const a=k("data"),V=k("refresh",null),D=k("column",null),N=p(a.btnDisable??!0),T=p(!1),b=p(""),U=q,$=r=>{U("searchText",r.target.value)},R="service_id"in a?a.service_id:null,j=()=>{if(A.name==="EquipmentHandling")return T.value=!0},E=()=>{typeof V=="function"&&V()},F=()=>{const r={id:a.selectedId.value};R!==null&&(r.service_id=R.value),a.work_type!==null&&a.work_type!==""&&(r.work_type=a.work_type),g.push({name:a.routeView.value,params:r})},W=()=>{a!=null&&a.createRequest&&g.push({name:a.createRequest})};return se(()=>{j()}),(r,c)=>{const H=o("v-app-bar-nav-icon"),M=o("v-app-bar-title"),S=o("v-spacer"),z=o("v-app-bar"),O=o("v-navigation-drawer"),v=o("v-icon"),f=o("v-btn"),P=o("v-checkbox"),G=o("v-card"),J=o("v-menu"),K=o("v-text-field"),Q=o("v-toolbar"),X=o("v-main"),Y=o("v-app");return _(),h(Y,{dense:""},{default:t(()=>[e(z,null,{default:t(()=>[e(H,{color:"primary",onClick:c[0]||(c[0]=d=>u.value=!u.value)}),e(M,{style:w({display:l(i)<=426?"none":""})},{default:t(()=>[s("Service "),ve]),_:1},8,["style"]),y("p",{style:w({display:l(i)<=426?"block":"none"})},[s("service"),fe],4),e(S),e(ee)]),_:1}),e(O,{modelValue:u.value,"onUpdate:modelValue":c[1]||(c[1]=d=>u.value=d)},{default:t(()=>[e(te)]),_:1},8,["modelValue"]),e(X,null,{default:t(()=>[e(Q,{class:"fixed-toolbar border-b-sm",dense:"",color:"white",style:w({width:l(i)<1280||u.value===!1?"100%":"calc(100% - 256px)"})},{default:t(()=>{var d;return[l(i)>550?(_(),h(S,{key:0})):I("",!0),e(J,{modelValue:C.value,"onUpdate:modelValue":c[2]||(c[2]=n=>C.value=n),"close-on-content-click":!1,location:"bottom"},{activator:t(({props:n})=>[e(f,re({color:"primary",variant:"plain",icon:""},n,{class:"text-none"}),{default:t(()=>[e(v,null,{default:t(()=>[s("mdi-chevron-down")]),_:1})]),_:2},1040)]),default:t(()=>[e(G,{"min-width":"auto",class:"pr-3"},{default:t(()=>[(_(!0),ce(ue,null,ie(l(D),n=>(_(),h(P,{class:"columnChooserCheckBox",label:n.title,key:n.field,"model-value":!n.hide,onChange:Z=>n.hide=!Z.target.checked},null,8,["label","model-value","onChange"]))),128))]),_:1})]),_:1},8,["modelValue"]),e(K,{modelValue:b.value,"onUpdate:modelValue":c[3]||(c[3]=n=>b.value=n),onInput:$,"order-sm":"1",density:"compact",class:"ml-3",variant:"plain","prepend-inner-icon":"mdi-magnify",color:"primary",placeholder:"Search data"},null,8,["modelValue"]),e(f,{onClick:E,color:"lighten-3",variant:"text",class:"mr-1 text-none"},{default:t(()=>[e(v,{class:"mr-1"},{default:t(()=>[s("mdi-refresh")]),_:1}),s(" "+x(l(i)<768?"":" Refresh"),1)]),_:1}),e(f,{onClick:F,variant:"tonal",disabled:N.value,color:"primary",class:"text-none mr-1"},{default:t(()=>[e(v,null,{default:t(()=>[s("mdi-file-eye")]),_:1}),s(" "+x(l(i)<768?"":"View"),1)]),_:1},8,["disabled"]),(d=l(a))!=null&&d.createRequest?(_(),h(f,{key:1,onClick:W,color:"primary",variant:"flat",class:"text-none"},{default:t(()=>[e(v,null,{default:t(()=>[s("mdi-plus")]),_:1}),s(" "+x(l(i)<768?"":"Create"),1)]),_:1})):I("",!0)]}),_:1},8,["style"]),y("div",he,[B(r.$slots,"filter",{},void 0,!0),B(r.$slots,"default",{searchText:b.value},void 0,!0)])]),_:3})]),_:3})}}},Ve=me(ye,[["__scopeId","data-v-ed7ea47f"]]);export{Ve as L};

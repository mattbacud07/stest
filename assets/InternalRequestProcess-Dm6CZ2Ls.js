import{x as Te,r as i,y as Pe,ap as ct,e as d,o as c,f as h,w as e,h as t,n as b,k as r,p as I,F as se,z as oe,t as R,j as s,g as mt,v as _t,d as vt,Y as pt,u as ft,c as yt,J as M,az as bt,aA as gt,ao as j,aB as kt,aC as $e,aD as ht,aE as xt,aF as Ne,I as x,G as L,i as Fe,$ as It,a0 as Vt,_ as wt,ax as Be,Z as Rt,M as qt,N as St,O as Ct}from"./index-Ck9pEVLk.js";import{_ as Dt}from"./lodash-CtSrTM6H.js";import{R as Ut,_ as At}from"./RequestDetails-D7ULxecS.js";import{L as Et}from"./LayoutSinglePage-D402HWj6.js";import{u as $t,_ as Nt,a as Ft}from"./getActionsTaken-7JWX28Qe.js";import{g as Bt}from"./vue3-datatable-zMyNNFo0.js";import{p as Tt}from"./permitted-DQZ414vW.js";import{u as Pt}from"./getUsers-ojMFm64A.js";import{I as Ot}from"./maintenance-C4GvCYOP.js";import{_ as zt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./topBarUserProfile-CBH5mGqO.js";const Mt=Te(),pe=i([]),jt=async()=>{try{const V=await Mt.get("getChecklistItem");V.data&&V.data.items&&(pe.value=V.data.items)}catch(V){console.log(V)}},Lt=()=>(Pe(()=>{pe.value.length||jt()}),{checkListItems:pe});i([]);const Wt=r("b",{class:"text-grey ml-1"},"Checklist Items",-1),Gt={class:"table table-sm table-bordered mt-3"},Ht=r("thead",null,[r("tr",{class:"text-none"},[r("td",null,"Item"),r("td",null,"Qty"),r("td",null,"Remark")])],-1),Yt={class:"mt-3"},Kt=r("span",{class:"text-grey"},"No records found",-1),Qt={__name:"ItemReportData",props:{task_delegation:{type:Object,default:()=>({})},items_acquired:{type:Array,default:()=>[]}},setup(V){const fe=V,{task_delegation:ye,items_acquired:Z}=ct(fe);return(g,be)=>{const q=d("v-card"),U=d("v-icon"),ne=d("v-col"),re=d("v-row");return c(),h(re,null,{default:e(()=>[t(ne,{cols:"12"},{default:e(()=>{var X;return[((X=b(Z))==null?void 0:X.length)>0?(c(),h(q,{key:0,class:"mt-5"},{default:e(()=>[Wt,r("table",Gt,[Ht,r("tbody",null,[(c(!0),I(se,null,oe(b(Z),(W,G)=>(c(),I("tr",{key:G},[r("td",null,R(W.item),1),r("td",null,R(W.qty),1),r("td",null,R(W.remarks),1)]))),128))])])]),_:1})):(c(),h(q,{key:1},{default:e(()=>[r("span",Yt,[t(U,{color:"grey"},{default:e(()=>[s("mdi-text-box-search-outline")]),_:1}),s(),Kt])]),_:1}))]}),_:1})]),_:1})}}},D=V=>(St("data-v-821c3a6a"),V=V(),Ct(),V),Jt={key:1},Zt={key:2},Xt=D(()=>r("h5",{class:"mt-3",style:{"font-weight":"500",color:"#191970"}},"Internal Servicing - Delegation of Service ",-1)),ea={class:"small text-disabled"},ta={class:"small text-primary",style:{"font-size":"12px"}},aa={key:0,class:"text-disabled"},la={key:3},sa={key:0},oa={key:1},na=D(()=>r("b",{class:"text-primary ml-1"},"Checklist Items",-1)),ra={class:"table table-sm table-bordered mt-3"},ia=D(()=>r("thead",null,[r("tr",null,[r("th",null,"Item"),r("th",null,"Qty"),r("th",null,"Remarks")])],-1)),ua={class:"pa-0 w-25"},da={class:"pa-0 w-25"},ca={key:1},ma=D(()=>r("td",{colspan:"2"},"No records found",-1)),_a=[ma],va=D(()=>r("b",{class:"text-primary ml-1"},"Select Items",-1)),pa=D(()=>r("b",{class:"text-primary"},"Status after service",-1)),fa=D(()=>r("b",{class:"text-primary"},"Actions Taken",-1)),ya=D(()=>r("p",null,"No records found",-1)),ba={class:"d-flex"},ga={__name:"InternalRequestProcess",setup(V){const ye=mt().currentUserRole,{width:Z}=_t(),g=vt.useToast(),{actions_data:be}=$t(),{can:q}=Tt(),U=i("details");i("service_report");const ne=[{title:"Back",disabled:!1,href:"/internal-servicing",display:"block"},{title:"Equipment Handling",disabled:!0,href:"",display:"none"},{title:"Internal Servicing",disabled:!0,href:"",display:"none"}],re=o=>{!o.disabled&&o.href&&W.push(o.href)},X=pt(),W=ft(),G=yt(),A=Te(),N=i(!1),ge=i(!1),F=i(!1),ie=i(!1),n=i(!1),_=i(!1),B=i(""),ue=i(null),Oe=i(0),ze=i(0);i("");const S=parseInt(X.params.id),H=i(null);i([]);const E=i(null),ke=i(!1),de=i(""),ce=i(""),C=i([]),Me=()=>{C.value.length<8&&C.value.push({action:""})},je=o=>{C.value.splice(o,1)},ee=i([]),Le=o=>{ee.value=o.map(l=>({id:l.id,service_id:l.service_id,item:l.item,qty:"",remarks:""}))},w=i([]),he=i([]),xe=i([]),me=i({}),Ie=i({}),Ve=i({}),$=async()=>{var o,l,v,te,ae,P,le,p,O;n.value=!0,T.value=!0;try{const f=await A.get("getInternalRowById",{params:{id:S,module_type:bt}});if((o=f==null?void 0:f.data)!=null&&o.internal_request){n.value=!0;const u=(l=f.data)==null?void 0:l.internal_request;E.value=u==null?void 0:u.status,w.value=u,he.value=(v=u==null?void 0:u.task_delegation)==null?void 0:v.actions_taken,me.value=u==null?void 0:u.task_delegation,xe.value=(te=u==null?void 0:u.task_delegation)==null?void 0:te.items_acquired,Y.value=(ae=u==null?void 0:u.task_delegation)==null?void 0:ae.id,H.value=u==null?void 0:u.service_id;const m=u.equipment_handling;Ie.value={full_name:(P=m==null?void 0:m.users)==null?void 0:P.full_name,institution:(le=m==null?void 0:m.institution)==null?void 0:le.name,address:(p=m==null?void 0:m.institution)==null?void 0:p.address,proposed_delivery_date:m==null?void 0:m.proposed_delivery_date,created_at:m==null?void 0:m.created_at},Ve.value=(O=u==null?void 0:u.equipment_handling)==null?void 0:O.equipments}}catch(f){console.log(f)}finally{n.value=!1,T.value=!1}},{engineers:We}=Pt(),_e=i(""),we=i(!1),Ge=async()=>{n.value=!0,_.value=!0;const{valid:o}=await we.value.validate();if(!o){_.value=!1,n.value=!1;return}try{const l=await A.post("redelegation",{internal_id:S,delegation_id:Y.value,assigned_to:_e.value.value});l.data&&l.data.success?(g.success("Successfully delegated"),$(),U.value="details"):(n.value=!1,F.value=!1,g.error(l.data.error))}catch(l){F.value=!1,n.value=!1,alert(l)}finally{n.value=!1,F.value=!1,_.value=!1}},He=async()=>{if(n.value=!0,_.value=!0,!B.value.trim()){g.error("Please indicate your reason"),n.value=!1,_.value=!1;return}try{const o=await A.post("decline-internal-request",{internal_id:S,remarks:B.value});o.data&&o.data.success?(g.success("Successfully declined"),$()):(n.value=!1,g.error(o.data.error))}catch{n.value=!1,g.error("Something went wrong")}finally{_.value=!1}},Y=i(null),Ye=async()=>{n.value=!0,_.value=!0;try{const o=await A.post("accept-internal-request",{service_id:H.value,internal_id:S,delegation_id:Y.value,remarks:ue.value});o.data&&o.data.success?(g.success("Successfully accepted"),$()):(n.value=!1,g.error(o.data.error))}catch(o){n.value=!1,console.log(o)}finally{_.value=!1}},Ke=async()=>{n.value=!0,_.value=!0;const{valid:o}=await ke.value.validate();if(!o){n.value=!1,_.value=!1;return}if(C.value.length===0){n.value=!1,_.value=!1,g.error("Required actions taken");return}if(C.value.some(v=>typeof v=="string"?v.trim()==="":v==null)){g.error("Please fill in required fields"),n.value=!1,_.value=!1;return}Re()},Re=async()=>{n.value=!0,_.value=!0;try{const o=await A.post("internal-servicing-completed",{option_type:de.value,status_after_service:ce.value,items:ee.value,actions_taken:C.value,delegation_id:Y.value,internal_id:S,service_id:H.value});o.data&&o.data.success?(g.success("Operation completed successfully"),$(),getItems()):(n.value=!1,g.error(o.data.error))}catch(o){console.log(o)}finally{_.value=!1,n.value=!1}},Qe=async()=>{n.value=!0,_.value=!0;try{const o=await A.post("for_storage",{internal_id:S,service_id:H.value,delegation_id:Y.value});o.data&&o.data.success&&(g.success("Operation completed successfully"),$())}catch(o){console.log(o)}finally{_.value=!1,n.value=!1}},Je=async()=>{var o;n.value=!0,_.value=!0;try{const l=await A.post("approve_by_wim",{internal_id:S,service_id:H.value,option_type:(o=w.value)==null?void 0:o.option_type});l.data&&l.data.success&&(g.success("Operation completed successfully"),$())}catch(l){console.log(l)}finally{_.value=!1,n.value=!1}},T=i(!0),Ze=i([{field:"id",title:"ID",isUnique:!0,type:"number",hide:!0},{field:"item",title:"Item"}])||[],{checkListItems:Xe}=Lt(),ve=M(()=>E.value===gt),et=M(()=>q("installer",j)&&w.value.status===kt&&w.value.current_assigned_to===G.user.id),tt=M(()=>q("delegate",j)&&w.value.current_assigned_by===G.user.id&&(w.value.status===$e||w.value.status===ht)),qe=M(()=>q("delegate",j)&&w.value.current_assigned_by===G.user.id&&w.value.status===$e),at=M(()=>ye===xt&&E.value===Ne);return M(()=>E.value!==Ot),Pe(()=>{$()}),(o,l)=>{const v=d("v-icon"),te=d("v-breadcrumbs-item"),ae=d("v-breadcrumbs"),P=d("v-spacer"),le=d("v-progress-circular"),p=d("v-btn"),O=d("v-textarea"),f=d("v-col"),u=d("v-row"),m=d("v-card"),z=d("v-dialog"),Se=d("v-divider"),lt=d("v-list-item-title"),st=d("v-list-item"),Ce=d("v-combobox"),De=d("v-form"),ot=d("v-alert"),Ue=d("v-chip"),K=d("v-radio"),Ae=d("v-radio-group"),Ee=d("v-text-field"),Q=d("v-tab"),nt=d("v-tabs"),J=d("v-window-item"),rt=d("v-window"),it=d("v-card-text"),ut=d("v-container");return c(),h(Et,null,{topBarFixed:e(()=>[t(ae,{class:"pt-7"},{default:e(()=>[(c(),I(se,null,oe(ne,(a,k)=>t(te,{key:k,class:Rt({"custom-pointer":!a.disabled}),style:qt({display:b(Z)<=768?a.display:""}),onClick:y=>re(a),disabled:a.disabled},{default:e(()=>[s(R(a.title)+" ",1),t(v,{class:"ml-1",icon:"mdi-chevron-right"})]),_:2},1032,["class","style","onClick","disabled"])),64))]),_:1}),t(P),T.value?(c(),h(le,{key:0,indeterminate:"",size:"20",width:"1",color:"primary"})):x("",!0),at.value?(c(),I("div",Jt,[t(z,{modelValue:N.value,"onUpdate:modelValue":l[2]||(l[2]=a=>N.value=a),"max-width":"500",persistent:""},{activator:e(({props:a})=>[t(p,L({disabled:n.value},a,{color:"primary",variant:"flat",class:"text-none mr-2"}),{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-check-bold")]),_:1}),s(" Approve")]),_:2},1040,["disabled"])]),default:e(()=>[t(m,{text:"",title:""},{actions:e(()=>[t(u,{justify:"end"},{default:e(()=>[t(p,{onClick:l[1]||(l[1]=a=>N.value=!1),"background-color":"red",color:"#191970",class:"text-none mr-2"},{default:e(()=>[s(" Cancel")]),_:1}),t(p,{onClick:Je,loading:_.value,disabled:n.value,color:"primary",elevation:"2",class:"text-none mr-3",style:{"background-color":"#191970",color:"#fff!important"}},{default:e(()=>[t(v,{class:"mr-1"},{default:e(()=>[s("mdi-check")]),_:1}),s(" Approve")]),_:1},8,["loading","disabled"])]),_:1})]),default:e(()=>[t(f,{cols:"12"},{default:e(()=>[t(O,{class:"mr-2 ml-2",modelValue:B.value,"onUpdate:modelValue":l[0]||(l[0]=a=>B.value=a),clearable:"",label:"Remarks(optional)",color:"primary",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):x("",!0),tt.value?(c(),I("div",Zt,[t(z,{modelValue:F.value,"onUpdate:modelValue":l[5]||(l[5]=a=>F.value=a),"max-width":"400",persistent:""},{activator:e(({props:a})=>[t(p,L({disabled:n.value},a,{color:"primary",variant:"flat",class:"text-none mr-2"}),{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-account-sync-outline")]),_:1}),s(" Redelegate")]),_:2},1040,["disabled"])]),default:e(()=>[t(m,null,{default:e(()=>[t(De,{onSubmit:Fe(Ge,["prevent"]),ref_key:"formRedelegate",ref:we},{default:e(()=>[t(f,{cols:"12"},{default:e(()=>[Xt,t(Se),t(Ce,{color:"primary",class:"mt-5",modelValue:_e.value,"onUpdate:modelValue":l[3]||(l[3]=a=>_e.value=a),clearable:"",label:"Delegate to",placeholder:"Delegate to",density:"compact",items:b(We),variant:"outlined",itemValue:"value",rules:[a=>!!a||"Required",a=>a.key!==void 0?!0:"Select one of the options listed"],itemTitle:"key"},{item:e(({item:a,props:k})=>[t(st,It(Vt(k)),{default:e(()=>[t(lt,null,{default:e(()=>[r("p",ea,"SBU "+R(a.raw.sbu),1)]),_:2},1024)]),_:2},1040)]),selection:e(({item:a,index:k})=>[r("span",ta,[r("b",null,R(a.title),1),s(),a.title?(c(),I("span",aa,"- [SBU : "+R(a.raw.sbu)+"]",1)):x("",!0)])]),_:1},8,["modelValue","items","rules"])]),_:1}),t(Se,{class:"mb-5"}),t(u,{justify:"end",class:"mb-3"},{default:e(()=>[t(p,{onClick:l[4]||(l[4]=a=>F.value=!1),size:"small",class:"text-none mr-2"},{default:e(()=>[s(" Cancel")]),_:1}),t(p,{type:"submit",size:"small",loading:_.value,disabled:n.value,color:"#191970",class:"text-none bg-primary mr-5"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-check")]),_:1}),s(" Redelegate")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),qe.value?(c(),h(z,{key:0,modelValue:ie.value,"onUpdate:modelValue":l[7]||(l[7]=a=>ie.value=a),"max-width":"400",persistent:""},{activator:e(({props:a})=>[t(p,L({disabled:n.value},a,{color:"primary",variant:"tonal",class:"text-none mr-2"}),{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-server")]),_:1}),s(" For Storage")]),_:2},1040,["disabled"])]),default:e(()=>[t(m,{text:"Send to the warehouse for storage?",title:""},{actions:e(()=>[t(P),t(p,{onClick:l[6]||(l[6]=a=>ie.value=!1),elevation:"0",class:"text-none mr-2"},{default:e(()=>[s(" Cancel")]),_:1}),t(p,{size:"small",onClick:Qe,loading:_.value,disabled:n.value,color:"#191970",class:"text-none bg-primary"},{default:e(()=>[t(v,{class:"mr-1"},{default:e(()=>[s("mdi-check")]),_:1}),s(" Yes, for storage")]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["modelValue"])):x("",!0)])):x("",!0),b(q)("installer",b(j))?(c(),I("div",la,[et.value?(c(),I("span",sa,[t(z,{modelValue:N.value,"onUpdate:modelValue":l[10]||(l[10]=a=>N.value=a),"max-width":"400",persistent:""},{activator:e(({props:a})=>[t(p,L({disabled:n.value},a,{color:"primary",variant:"plain",class:"text-none mr-2"}),{default:e(()=>[s(" Decline")]),_:2},1040,["disabled"])]),default:e(()=>[t(m,{text:"",title:"Decline"},{actions:e(()=>[t(u,{justify:"end"},{default:e(()=>[t(p,{onClick:l[9]||(l[9]=a=>N.value=!1),"background-color":"red",color:"#191970",class:"text-none mr-2"},{default:e(()=>[s(" Cancel")]),_:1}),t(p,{onClick:He,loading:_.value,disabled:n.value,color:"primary",class:"text-none mr-3",style:{"background-color":"#191970",color:"#fff!important"}},{default:e(()=>[s(" Decline")]),_:1},8,["loading","disabled"])]),_:1})]),default:e(()=>[t(f,{cols:"12"},{default:e(()=>[t(O,{class:"mr-2 ml-2",modelValue:B.value,"onUpdate:modelValue":l[8]||(l[8]=a=>B.value=a),clearable:"",label:"Reason",color:"primary",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(p,{type:"button",loading:_.value,disabled:n.value,color:"primary",variant:"flat",class:"text-none btnSubmit"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-check")]),_:1}),s(" Accept "),t(z,{activator:"parent",width:"500"},{default:e(({isActive:a})=>[t(m,{text:"",title:""},{actions:e(()=>[t(u,{justify:"end"},{default:e(()=>[t(p,{onClick:k=>a.value=!1,"background-color":"red",color:"#191970",class:"text-none mr-2"},{default:e(()=>[s(" Cancel")]),_:2},1032,["onClick"]),t(p,{onClick:Ye,loading:_.value,disabled:n.value,color:"primary",elevation:"2",class:"text-none mr-3",style:{"background-color":"#191970",color:"#fff!important"}},{default:e(()=>[s("Accept")]),_:1},8,["loading","disabled"])]),_:2},1024)]),default:e(()=>[t(f,{cols:"12"},{default:e(()=>[t(O,{class:"mr-2 ml-2",modelValue:ue.value,"onUpdate:modelValue":l[11]||(l[11]=k=>ue.value=k),clearable:"",label:"Remark (optional)",color:"primary",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:2},1024)]),_:1})]),_:1},8,["loading","disabled"])])):x("",!0),ve.value?(c(),I("span",oa,[t(p,{type:"button",onClick:Ke,loading:_.value,disabled:n.value,color:"primary",variant:"flat",class:"text-none btnSubmit"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-check-bold")]),_:1}),s(" Set as Completed")]),_:1},8,["loading","disabled"])])):x("",!0)])):x("",!0)]),default:e(()=>[t(ut,{class:"container-form mt-7"},{default:e(()=>[qe.value?(c(),h(ot,{key:0,closable:"",density:"compact",color:"warning",variant:"tonal"},{default:e(()=>[s(" You have the option to either redelegate the machine for internal servicing or move it to storage ")]),_:1})):x("",!0),t(wt,{name:"slide-x-transition"},{default:e(()=>[T.value?x("",!0):(c(),h(m,{key:0,class:"mt-5 statusVCard",elevation:"0"},{default:e(()=>{var a;return[t(Ue,{class:"ma-2",color:Be(E.value).color,label:""},{default:e(()=>[t(v,{icon:"mdi-circle-medium",start:""}),s(" Status: "),r("strong",null," "+R(Be(E.value).text),1)]),_:1},8,["color"]),(a=w.value)!=null&&a.option_type&&E.value===Ne?(c(),h(Ue,{key:0,class:"ma-2",color:"red",label:""},{default:e(()=>{var k;return[r("strong",null," For "+R(b(Dt).upperFirst((k=w.value)==null?void 0:k.option_type)??"---"),1)]}),_:1})):x("",!0)]}),_:1}))]),_:1}),t(De,{onSubmit:Fe(Re,["prevent"]),ref_key:"form",ref:ke},{default:e(()=>[b(q)("installer",b(j))&&ve.value?(c(),h(m,{key:0,text:"",title:"",class:"mb-5"},{default:e(()=>[t(f,{cols:"12"},{default:e(()=>[na,t(Ae,{inline:"",modelValue:de.value,"onUpdate:modelValue":l[12]||(l[12]=a=>de.value=a),rules:[a=>!!a||"Required"]},{default:e(()=>[t(K,{label:"For Storage",value:"storage"}),t(K,{label:"For Installation",value:"installation"})]),_:1},8,["modelValue","rules"]),r("table",ra,[ia,r("tbody",null,[ee.value.length>0?(c(!0),I(se,{key:0},oe(ee.value,(a,k)=>(c(),I("tr",{key:k},[r("td",null,R(a.item),1),r("td",ua,[t(Ee,{class:"ml-2",rules:[y=>!!y||"Required",y=>!isNaN(y)||"Mus tbe a number"],variant:"plain",modelValue:a.qty,"onUpdate:modelValue":y=>a.qty=y,label:"qty",density:"compact","single-line":""},null,8,["rules","modelValue","onUpdate:modelValue"])]),r("td",da,[t(Ee,{class:"ml-2",variant:"plain",modelValue:a.remarks,"onUpdate:modelValue":y=>a.remarks=y,label:"remarks",density:"compact","single-line":""},null,8,["modelValue","onUpdate:modelValue"])])]))),128)):(c(),I("tr",ca,_a))])]),t(z,{modelValue:ge.value,"onUpdate:modelValue":l[13]||(l[13]=a=>ge.value=a),"max-width":"500"},{activator:e(({props:a})=>[t(p,L({type:"button"},a,{disabled:n.value,density:"compact",color:"primary",variant:"tonal",class:"text-none mt-5"}),{default:e(()=>[s("Select Items")]),_:2},1040,["disabled"])]),default:e(()=>[t(m,{class:"pa-5"},{default:e(()=>[t(u,null,{default:e(()=>[t(f,{cols:"12",md:"12",sm:"12"},{default:e(()=>[va,t(b(Bt),{ref:"datatable",rows:b(Xe),columns:b(Ze),loading:T.value,selectRowOnClick:!0,hasCheckbox:!0,pagination:!1,skin:"bh-table-compact bh-table-bordered bh-table-striped bh-table-hover",class:"",onRowSelect:Le},null,8,["rows","columns","loading"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):x("",!0),b(q)("installer",b(j))&&ve.value?(c(),h(m,{key:1,density:"compact",class:"p-3",elevation:"1"},{default:e(()=>[t(u,null,{default:e(()=>[t(f,{cols:"12"},{default:e(()=>[pa,t(Ae,{modelValue:ce.value,"onUpdate:modelValue":l[14]||(l[14]=a=>ce.value=a),rules:[a=>!!a||"Required"],inline:""},{default:e(()=>[t(K,{label:"Operational",value:"Operational"}),t(K,{label:"For further monitoring",value:"Further Monitoring"}),t(K,{label:"Non-operational",value:"Non-Operational"})]),_:1},8,["modelValue","rules"])]),_:1})]),_:1}),t(u,null,{default:e(()=>[t(f,{class:"d-flex justify-content-between align-items-center"},{default:e(()=>[fa,t(p,{onClick:Me,class:"text-none",color:"primary",variant:"text","prepend-icon":"mdi-comment-plus-outline"},{default:e(()=>[s("Add Field")]),_:1})]),_:1})]),_:1}),t(f,{cols:"12"},{default:e(()=>[t(m,{elevation:"0"},{default:e(()=>[t(u,null,{default:e(()=>[C.value.length>0?(c(!0),I(se,{key:0},oe(C.value,(a,k)=>(c(),h(f,{cols:"12",key:k},{default:e(()=>[t(Ce,{modelValue:a.action,"onUpdate:modelValue":y=>a.action=y,items:b(be),"item-title":"actions","item-value":"actions",label:"Select an option or enter your action manually","append-inner-icon":"mdi-trash-can-outline",variant:"outlined",color:"primary",class:"mt-3",density:"compact",clearable:"",rules:[y=>!!y||"Required",y=>y&&y.length<=120||"Please limit your input to 120 characters"],"onClick:appendInner":y=>je(k)},{item:e(({item:y,props:dt})=>[r("p",L(dt,{class:"pa-2 selecting_action"}),[t(v,null,{default:e(()=>[s("mdi-circle-medium")]),_:1}),s(" "+R(y.title),1)],16)]),_:2},1032,["modelValue","onUpdate:modelValue","items","rules","onClick:appendInner"])]),_:2},1024))),128)):(c(),h(f,{key:1},{default:e(()=>[ya]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})):x("",!0)]),_:1},512),t(m,{class:"mt-10"},{default:e(()=>[t(nt,{modelValue:U.value,"onUpdate:modelValue":l[15]||(l[15]=a=>U.value=a),density:"compact",class:"border-b-sm d-flex justify-between"},{default:e(()=>[r("div",null,[t(Q,{value:"delegation_details",disabled:T.value,class:"text-none",color:"primary"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-gesture-tap-button")]),_:1}),s(" Delegation Details")]),_:1},8,["disabled"]),t(Q,{value:"service_report",class:"text-none",color:"primary"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-poll")]),_:1}),s("ServiceReport")]),_:1}),t(Q,{value:"item_report",class:"text-none",color:"primary"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-chart-bar-stacked")]),_:1}),s(" Checklist Item")]),_:1})]),t(P),r("div",ba,[t(Q,{value:"details",class:"text-none",color:"primary"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-tooltip-text-outline")]),_:1}),s(" Request Details")]),_:1}),t(Q,{value:"equipments",class:"text-none",color:"primary"},{default:e(()=>[t(v,{class:"mr-2"},{default:e(()=>[s("mdi-hammer-screwdriver")]),_:1}),s(" Requested Equipments")]),_:1})])]),_:1},8,["modelValue"]),t(it,{class:"vCardText"},{default:e(()=>[t(rt,{modelValue:U.value,"onUpdate:modelValue":l[16]||(l[16]=a=>U.value=a),disabled:!0},{default:e(()=>[t(J,{value:"details"},{default:e(()=>[(c(),h(Ut,{request_data:Ie.value,key:ze.value},null,8,["request_data"]))]),_:1}),t(J,{value:"equipments"},{default:e(()=>[t(At,{equipments:Ve.value,editSerial:!1},null,8,["equipments"])]),_:1}),t(J,{value:"delegation_details"},{default:e(()=>[(c(),h(Nt,{id:b(S),key:Oe.value,internalData:w.value},null,8,["id","internalData"]))]),_:1}),t(J,{value:"item_report"},{default:e(()=>[t(Qt,{task_delegation:me.value,items_acquired:xe.value},null,8,["task_delegation","items_acquired"])]),_:1}),t(J,{value:"service_report"},{default:e(()=>[t(Ft,{task_delegation:me.value,actions_taken:he.value},null,8,["task_delegation","actions_taken"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}},Ua=zt(ga,[["__scopeId","data-v-821c3a6a"]]);export{Ua as default};
